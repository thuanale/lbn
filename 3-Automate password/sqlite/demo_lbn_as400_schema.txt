CREATE TABLE IF NOT EXISTS "USERS"
(
    [user_id] INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
	[email] NVCHAR(40) NOT NULL,
	[as400_id] NVARCHAR(40) NOT NULL,
);

CREATE TABLE IF NOT EXISTS "GROUPS"
(
    [group_id] INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
	[group_name] NVARCHAR(40) NOT NULL
);

CREATE TABLE IF NOT EXISTS "SERVERS"
(
    [server_id] INTEGER PRIMARY KEY AUTOINCREMENT NOT NULL,
	[server_name] TEXT NOT NULL,
	[ip] NVCHAR(40) NOT NULL,
	[type] NVARCHAR(40) NOT NULL
);

CREATE TABLE IF NOT EXISTS "USERS_SERVERS"
(
 [user_id] INTEGER NOT NULL,
 [server_id] INTEGER NOT NULL,
 FOREIGN KEY ([user_id]) REFERENCES USERS ([user_id])
 ON UPDATE NO ACTION 
 ON DELETE NO ACTION,
 FOREIGN KEY ([server_id]) REFERENCES SERVERS ([server_id])
 ON UPDATE NO ACTION
 ON DELETE NO ACTION
);

CREATE INDEX [IFK_USER_ID] ON "USERS" ([user_id]);
CREATE INDEX [IFK_GROUP_ID] ON "GROUPS" ([group_id]);
CREATE INDEX [IFK_SERVER_ID] ON "SERVERS" ([server_id]);
ANALYZE sqlite_master;  